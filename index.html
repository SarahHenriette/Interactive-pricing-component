<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
      <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="sass/style.css">
  <title>Frontend Mentor | Interactive pricing component</title>
  </head>
  <body>
    <div class="img-background">
      <img src="./images/bg-pattern.svg" alt="" >
    </div>
    <header class="header">
      <img src="./images/pattern-circles.svg" alt="">
      <h1>Simple, traffic-based pricing</h1>
      <p>Sign-up for our 30-day trial. No credit card required. </p>
    </header>
    <section class="main">
        <p class="page-views"><span id="page-view"></span>Pageviews</p>
        <p class="month"><span id="rangeValue">$16</span>  /month</p>
        <div class="bar-slider">
            <input type="range" id="bar-price" name="bar-price" min="0" max="100" value="50" step="5" class="slider"/>
            <div id="selector">
              <div class="selectBtn"><i class="fas fa-caret-left"></i><i class="fas fa-caret-right"></i></div>
            </div>
            <div id="progressBar"></div>
        </div>
        <div class="infos-bar">
          <div class="monthly-billing">
            <p>Monthly Billing</p>
            <label class="switch">
              <input type="checkbox" id="slider-toggle">
              <span class="slider-toggle"></span>
            </label>
          </div>
          <p class="yearly-billing"> Yearly Billing <span class="badge">25% discount</span><span class="badge-mobile">-25%</span></p>
        </div>
        <div class="hr"></div>  
        <footer>
          <div class="items-checked">
            <p><svg xmlns="http://www.w3.org/2000/svg" width="9" height="8"><path fill="none" stroke="#10D8C4" stroke-width="2" d="M1 4.134l1.907 1.908L7.949 1"/></svg>Unlimited websites</p>
            <p><svg xmlns="http://www.w3.org/2000/svg" width="9" height="8"><path fill="none" stroke="#10D8C4" stroke-width="2" d="M1 4.134l1.907 1.908L7.949 1"/></svg>100% data ownership</p>
            <p><svg xmlns="http://www.w3.org/2000/svg" width="9" height="8"><path fill="none" stroke="#10D8C4" stroke-width="2" d="M1 4.134l1.907 1.908L7.949 1"/></svg>Email reports</p>
          </div>
          <button class="btn-start">Start my trial</button>
      </footer> 
    </section>

    <script type="text/javascript">
    let slideBar = document.getElementById('bar-price'), output = document.getElementById('rangeValue');
    let viewPages = document.getElementById('page-view')     
    let selector = document.getElementById("selector");
    let progressBar = document.getElementById("progressBar");
    let sliderToggle = document.getElementById("slider-toggle")
    let price = 0;

      slideBar.oninput = function(){
        switch (this.value) {
          case "0": 
            display("10K", 8)
            break;
          case "25":
            display("50K", 12)
            break;
          case "50":
            display("100K", 16)
            break;
          case "75":
            display("1000K", 24)
            break;
          case "100": 
            display("1000K", 36)
            break;
            default:
              console.log("rien")
        }
        selector.style.left = this.value + "%";
        progressBar.style.width = this.value + "%";

      }
      slideBar.oninput()

      function display(views, valuePrice){
        viewPages.innerHTML = views;
        reducePrice25(valuePrice)
      }

      function reducePrice25(valuePrice) {
        if(sliderToggle.checked == true){
          output.innerHTML= "$" + (valuePrice*25)/100 + ".00"
        }
        else{
          output.innerHTML= "$" + valuePrice + ".00";
        }
        price = valuePrice;
      }

      sliderToggle.addEventListener('change', (e)=> {
          reducePrice25(price)
      })


    </script>
  </body>
</html>
